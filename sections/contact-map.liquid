{% comment %}ly_global_begin{% endcomment %}{% include 'ly-global' %}{% comment %}ly_global_end{% endcomment %}
<div id="contact-map" style="width: 100%; height: 400px;" >
	<!-- <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d2974.3705417147066!2d-88.2601703!3d41.7987775!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880efbc563f8ea81%3A0x76a57a1993a24!2sPeerless-AV!5e0!3m2!1suk!2sua!4v1553534497566" width="100%" height="400" frameborder="0" style="border:0" allowfullscreen></iframe> -->
	
</div>

<script>
      function initMap() {
		var map_lat = {{ section.settings.latitude }};
		var map_lng = {{ section.settings.longitude }};
		var map_zoom = {{ section.settings.zoom_level }};
		var uluru = {lat: map_lat, lng: map_lng};
		var map = new google.maps.Map(document.getElementById('contact-map'), {
          zoom: map_zoom,
          center: uluru,
          disableDefaultUI: true
        });
		var marker = new google.maps.Marker({position: uluru, map: map});
      }
    </script>
     <script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2ewW8o35y8dyAUDfzsBBrxqejvXtcYvw&callback=initMap">
</script>
<!-- <script type="text/javascript">
  	function initMap() {
  		var myLatLng = {
  			lat: {% if section.settings.latitude != '' %}{{ section.settings.latitude }}{% else %}-34.397{% endif %}, 
  			lng: {% if section.settings.longitude != '' %}{{ section.settings.longitude }}{% else %}150.644{% endif %}
  		};

        var map = new google.maps.Map(document.getElementById('contact-map'), {
          	center: myLatLng,
          	zoom: {% if section.settings.zoom_level != '' %}{{ section.settings.zoom_level }}{% else %}8{% endif %}
        });

        var marker = new google.maps.Marker({
          	position: myLatLng,
          	map: map,
          	title: {% if section.settings.map_description != '' %}'{{ section.settings.map_description }}'{% else %}'Hello World!'{% endif %}
        });
  	}
</script> -->
{%- if settings.api_key != '' -%}
<!-- <script src="https://maps.googleapis.com/maps/api/js?key={{ section.settings.api_key }}&callback=initMap"
    async defer></script> -->
{%- endif -%}

{% schema %}
{
	"class": "contact_map",
	"name": "Contact Map",
	"settings": [
		{
			"type": "text",
			"id": "api_key",
			"label": "API Key"
		},
		{
			"type": "text",
			"id": "longitude",
			"label": "Longitude",
			"default": "150.644"
		},
		{
			"type": "text",
			"id": "latitude",
			"label": "Latitude",
			"default": "-34.397"
		},
		{
			"type": "number",
			"id": "zoom_level",
			"label": "Zoom Level",
			"default": 8
		},
		{
			"type": "textarea",
			"id": "map_description",
			"label": "Map Description"
		}
	]
}
{% endschema %}